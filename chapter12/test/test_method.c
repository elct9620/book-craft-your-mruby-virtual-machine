#include "test_method.h"

void test_method_puts() {
  const uint8_t bin[] = {
    // puts "Hello World"
    0x52,0x49,0x54,0x45,0x30,0x30,0x30,0x37,0xa3,0xa3,0x00,0x00,0x00,0x61,0x4d,0x41,
    0x54,0x5a,0x30,0x30,0x30,0x30,0x49,0x52,0x45,0x50,0x00,0x00,0x00,0x43,0x30,0x30,
    0x30,0x32,0x00,0x00,0x00,0x5f,0x00,0x01,0x00,0x04,0x00,0x00,0x00,0x00,0x00,0x0c,
    0x10,0x01,0x4f,0x02,0x00,0x2e,0x01,0x00,0x01,0x37,0x01,0x67,0x00,0x00,0x00,0x01,
    0x00,0x00,0x0b,0x48,0x65,0x6c,0x6c,0x6f,0x20,0x57,0x6f,0x72,0x6c,0x64,0x00,0x00,
    0x00,0x01,0x00,0x04,0x70,0x75,0x74,0x73,0x00,0x45,0x4e,0x44,0x00,0x00,0x00,0x00,
    0x08,
  };

  mrb_value ret = mrb_exec(bin + 34);

  TEST_ASSERT_EQUAL_STRING("Hello World", ret.value.p);
}
